databaseChangeLog:
  - include: { file: shared/000-prereqs-and-extensions.sql,      relativeToChangelogFile: true }

  # Base tables first
  - include: { file: customer/001-init-customer.sql,             relativeToChangelogFile: true }
  - include: { file: orders/001-init-orders.sql,                 relativeToChangelogFile: true }
  - include: { file: orders/002-add-order-status.sql,            relativeToChangelogFile: true }
  - include: { file: orders/003-idx-orders-customer-date.sql,    relativeToChangelogFile: true }   # optional
  - include: { file: orders/004-ux-orders-customer-date-sku.sql, relativeToChangelogFile: true }   # <-- NEW

  # Products
  - include: { file: products/001-init-products.sql,             relativeToChangelogFile: true }
  - include: { file: products/002-insert-products.sql,           relativeToChangelogFile: true }
  - include: { file: products/003-fk-orders-product_sku.sql,     relativeToChangelogFile: true }

  # Views & grants
  - include: { file: customer/R-customer-views-and-grants.sql,   relativeToChangelogFile: true }
  - include: { file: products/R-product-views-and-grants.sql,    relativeToChangelogFile: true }

  # Procedures
  - include: { file: procedures/004-proc-recalc-customer-stats.sql, relativeToChangelogFile: true }
